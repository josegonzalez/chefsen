#!/bin/bash

# Automatically generated by Chefsen. Don't edit directly. This file
# sets up paths and basic environment for the Chefsen dev environment,
# and is intended to be sourced in your shell profile.

set +e
set +u

# Make the root of Chefsen available.

export CHEFSEN_HOME=<%= @chefsen_home %>

# Add homebrew'd stuff to the path.

PATH=/usr/local/bin:/usr/local/sbin:$PATH

# Add homebrew'd stuff to the manpath.

export MANPATH=/usr/local/share/man:$MANPATH

for f in <%= @envdir %>/*.sh ; do
  if [ -f $f ] ; then
    source $f
  fi
done

# Add ./bin to the path. This happens after initialization to make
# sure local stubs take precedence over stuff like rbenv.

if [ -d "$CHEFSEN_HOME/bin" ]; then
  export PATH=$CHEFSEN_HOME/bin:$PATH
fi

# Chefsen is active.

if [ -d "$CHEFSEN_HOME/.git" ]; then
  export CHEFSEN_SETUP_VERSION=`GIT_DIR=$CHEFSEN_HOME/.git git rev-parse --short HEAD`
else
  echo "Chefsen could not load properly!"
fi
